(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{CxOj:function(e,t,a){e.exports={baseView:"antd-pro-pages-account-index-baseView",left:"antd-pro-pages-account-index-left",right:"antd-pro-pages-account-index-right",avatar_title:"antd-pro-pages-account-index-avatar_title",background_title:"antd-pro-pages-account-index-background_title",avatar:"antd-pro-pages-account-index-avatar",background:"antd-pro-pages-account-index-background",url:"antd-pro-pages-account-index-url",button_view:"antd-pro-pages-account-index-button_view"}},SdWD:function(e,t,a){"use strict";var r=a("tAuX"),l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var n=l(a("2/Rp"));a("5NDa");var u=l(a("5rEg"));a("y8nQ");var c=l(a("Vl3Y")),o=l(a("2Taf")),d=l(a("vZ4D")),s=l(a("MhPg")),f=l(a("l4Ni")),i=l(a("ujKo")),m=a("Hg0r"),p=r(a("q1tI")),g=a("Y2fQ");function v(e){var t=h();return function(){var a,r=(0,i.default)(e);if(t){var l=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,l)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var E=function(e){(0,s.default)(a,e);var t=v(a);function a(){var e;return(0,o.default)(this,a),e=t.apply(this,arguments),e.populateForm=function(){var t=e.props.currentUser;e.props.form.setFieldsValue({email:t.email,name:t.name,bio:t.bio,imgUrl:t.imgUrl,avatar:t.avatar,location:t.location,phone:t.phone,password:"",confirmPassword:""})},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields({force:!0},function(t,a){delete a.email,""===a.password&&(delete a.password,delete a.confirmPassword),t||e.props.dispatch({type:"user/updateUser",payload:{updatedFields:a}})})},e}return(0,d.default)(a,[{key:"componentDidMount",value:function(){this.populateForm()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return p.default.createElement(c.default,{layout:"vertical",onSubmit:this.handleSubmit,hideRequiredMark:!0},p.default.createElement(c.default.Item,{label:(0,g.formatMessage)({id:"account.email"})},e("email")(p.default.createElement(u.default,{disabled:!0}))),p.default.createElement(c.default.Item,{label:(0,g.formatMessage)({id:"account.name"})},e("name",{rules:[{required:!0,message:(0,g.formatMessage)({id:"account.name.required"})},{whitespace:!0,message:(0,g.formatMessage)({id:"account.name.required"})}]})(p.default.createElement(u.default,null))),p.default.createElement(c.default.Item,{label:(0,g.formatMessage)({id:"account.bio"})},e("bio")(p.default.createElement(u.default.TextArea,{placeholder:(0,g.formatMessage)({id:"account.bio.placeholder"}),rows:4}))),p.default.createElement(c.default.Item,{label:(0,g.formatMessage)({id:"account.imgUrl"})},e("imgUrl")(p.default.createElement(u.default,null))),p.default.createElement(c.default.Item,{label:(0,g.formatMessage)({id:"account.avatar"})},e("avatar")(p.default.createElement(u.default,null))),p.default.createElement(c.default.Item,{label:(0,g.formatMessage)({id:"account.location"})},e("location")(p.default.createElement(u.default,null))),p.default.createElement(c.default.Item,{label:(0,g.formatMessage)({id:"account.phone"})},e("phone",{rules:[{pattern:/^\d+$/,message:(0,g.formatMessage)({id:"account.phone.wrong-format"})}]})(p.default.createElement(u.default,null))),p.default.createElement(c.default.Item,{label:(0,g.formatMessage)({id:"account.password"})},e("password")(p.default.createElement(u.default.Password,null))),p.default.createElement(c.default.Item,{label:(0,g.formatMessage)({id:"account.confirm-password"})},e("confirmPassword")(p.default.createElement(u.default.Password,null))),p.default.createElement(n.default,{type:"primary",htmlType:"submit",loading:this.props.loading},p.default.createElement(g.FormattedMessage,{id:"account.update"})))}}]),a}(p.Component),b=c.default.create()(E),y=(0,m.connect)(function(e){var t=e.user,a=e.loading;return{currentUser:t.currentUser,loading:a.models.user}})(b);t.default=y},bRAc:function(e,t,a){"use strict";var r=a("tAuX"),l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("/xke");var n=l(a("TeRw"));a("5NDa");var u=l(a("5rEg"));a("y8nQ");var c=l(a("Vl3Y")),o=l(a("2Taf")),d=l(a("vZ4D")),s=l(a("MhPg")),f=l(a("l4Ni")),i=l(a("ujKo"));a("+L6B");var m=l(a("2/Rp")),p=a("Hg0r"),g=r(a("q1tI")),v=a("Y2fQ"),h=l(a("lhOE")),E=l(a("SdWD")),b=l(a("CxOj"));function y(e){var t=w();return function(){var a,r=(0,i.default)(e);if(t){var l=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,l)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var M=a("P5Jw"),x=M.CopyToClipboard,R=function(e){return g.default.createElement(g.Fragment,null,g.default.createElement("div",{className:b.default.avatar_title},g.default.createElement(v.FormattedMessage,{id:"account.avatar-title"})),g.default.createElement("div",{className:b.default.avatar},g.default.createElement("img",{src:e.avatarUrl,alt:"avatar"})),g.default.createElement("div",{className:b.default.button_view},g.default.createElement(m.default,{icon:"upload"},g.default.createElement(v.FormattedMessage,{id:"account.change-avatar"}))))},U=function(e){(0,s.default)(a,e);var t=y(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,d.default)(a,[{key:"getAvatarURL",value:function(){var e=this.props.currentUser;return e.avatar?e.avatar:"https://gw.alipayobjects.com/zos/rmsportal/BiazfanxmamNRoxxVxka.png"}},{key:"getBackgroundURL",value:function(){var e=this.props.currentUser;return e.imgUrl?e.imgUrl:"https://s17736.pcdn.co/wp-content/uploads/2019/03/jason-leung-479251-unsplash.jpg"}},{key:"render",value:function(){var e="".concat(h.default.BLOGGY_READER_BASE_URL,"/").concat(this.props.currentUser._id);return g.default.createElement("div",{className:b.default.baseView},g.default.createElement("div",{className:b.default.left},g.default.createElement(E.default,null)),g.default.createElement("div",{className:b.default.right},g.default.createElement(R,{avatarUrl:this.getAvatarURL()}),g.default.createElement("div",{className:b.default.url},g.default.createElement(c.default.Item,{label:(0,v.formatMessage)({id:"account.url"})},g.default.createElement(u.default.TextArea,{disabled:!0,rows:3,value:e})),g.default.createElement(m.default,{type:"primary",href:e,target:"_blank",style:{marginRight:"3px"}},g.default.createElement(v.FormattedMessage,{id:"account.open-url"})),g.default.createElement(x,{text:e,onCopy:function(){return n.default.success({message:(0,v.formatMessage)({id:"account.copy-success"})})}},g.default.createElement(m.default,null,g.default.createElement(v.FormattedMessage,{id:"account.copy-url"}))))))}}]),a}(g.Component),_=(0,p.connect)(function(e){var t=e.user,a=e.loading;return{currentUser:t.currentUser,loading:a.models.user}})(U);t.default=_}}]);